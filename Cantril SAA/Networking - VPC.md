#networking #vpc 

- CIDR
	- method for allocating IP addresses
	- Used in Security Groups rules and AWS networking in general
	- defines an IP address range
	- Has two components
		- Base IP
			- Contained in the range
		- Subnet Mask
			- Defines how many bits can change in IP
			- /0, /24, /32
	- Subnet Mask
		- The lower the subnet number we have more IP addresses in the range
		- /0 allows for all IPs
- Public vs Private IP
	- The IANA established blocks of IPs only used for Public and Private
	- Private IP can only allow certain values
- VPC in AWS
	- VPC = Virtual Private Cloud
	- Can have multiple VPCs in an AWS region (max 5 per region soft limit)
	- Max CIDR per VPC is 5 for each CIDR
		- Min size /28
		- Max size /16
	- VPC is private, only private IPv4 ranges allowed
	- YOUR VPC CIDR SHOULD NOT OVERLAP WITH YOUR OTHER NETWORKS
- VPC - Subnet (IPv4)
	- AWS reserves 5 IP addresses (first 4 & last 1) in each subnet
- Internet Gateway (IGW)
	- Allow resources in a VPC to connect to the internet
	- Scales horizontally, highly available, and redundant
	- Must be created separately from a VPC
	- One VPC can only be attached to one IGW and vice versa
	- Internet gateways on their own do not allow internet access
	- Route tables must also be edited
- Bastion Hosts
	- EC2 Instance in the Public Subnet (Bastion Host)
	- We can use the Bastion Host to SSH into private EC2 instances
	- Is connected to all other private subnets
	- Bastion Host security group must allow access from the internet
		- Access from the public CIDR from your corporation for example
	- Security Group of the EC2 Instances must allow the Security Group of the Bastion Host or the private IP of the Bastion host
- NAT Instance
	- Outdated but still on exam
	- Network Address Translation
	- Allows EC2s in the private subnets to connect to the internet
	- Must be launched in a public subnet
	- Must disable EC2 setting: Source / destination Check
	- Must have Elastic IP attached to it
	- Route tables must be made to route traffic from private subnets to the NAT Instance
- NAT Gateway
	- AWS-managed NAT